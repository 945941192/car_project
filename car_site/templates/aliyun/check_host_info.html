		
    {% extends 'base2/base.html' %}
    {% block title %}专有云v2版本{% endblock %}
        {% block content %}

        <div class="page-title">
              <div class="title_left">
              </div>
        </div>

        <div class="clearfix"></div>

        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h1 align="center">故障分析页面</h1>
                        <h2 align="center" style="float: inherit">专有云--{{version}}--{{project_name}}--{{host_name}}</h2>
                        <ul class="nav navbar-right panel_toolbox">
                            <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                <ul class="dropdown-menu" role="menu">
                                </ul>
                            </li>
                            <li><a class="close-link"><i class="fa fa-close"></i></a>
                            </li>
                        </ul>
                    </div>
                    <div class="x_content">
                        <p class="text-muted font-13 m-b-30"></p>


                        <table id="example" class="table table-striped table-bordered" cellspacing="0" width="100%">
                            <thead>                         
                            <tr>                            
                                <th  style="text-align:center;">检查项</th>                
                                <th  style="text-align:center;">检查状态</th>               
                                <th  style="text-align:center;">风险级别</th>               
                                <th  style="text-align:center;">错误信息</th>               
                                <th  style="text-align:center;">解决方案</th>               
                            </tr>                           
                            </thead>                                                                  
                            <tbody>                         
                                {% for info in host_check_info_set %}
                                <tr>                            
                                    <td style="width:10%;text-align:center;vertical-align:middle;">{{ info.name }}</td>
                                    {% if info.status == 0 %}
                                        <td style="width:15%;text-align:center;color:green;vertical-align:middle;">正常</td>
                                    {% elif info.status == 1 %}
                                        <td style="width:15%;text-align:center;color:red;vertical-align:middle;">失败</td>
                                    {% elif info.status == 2 %}
                                        <td style="width:15%;text-align:center;color:Orange;vertical-align:middle;">警告</td>
                                    {% endif %}
                                    {% if info.risk_level == '低' %}
                                        <td style="width:15%;text-align:center;color:green;vertical-align:middle;">低</td>
                                    {% elif info.risk_level == '中' %}
                                        <td style="width:15%;text-align:center;color:Orange;vertical-align:middle;">中</td>
                                    {% elif info.risk_level == '高' %}
                                        <td style="width:15%;text-align:center;color:red;vertical-align:middle;">高</td>
                                    {% endif %}

                                        

                                    <td style="width:30%;">{{ info.reason }}</td> 
                                    <td style="width:30%;" class="resolve_info">{{ info.resolve_info | safe }}</td> 
                                </tr>                           
                                {% endfor %}
                            </tbody>                        
                        </table>     

                  </div>
                </div>
              </div>
            </div>

            {% endblock %}


		



        {% block extrajs %}
		<script type="text/javascript">
            function go_check_log_page(check_date_id){
                var version = "{{ version }}"
                var project_name = "{{ project_name }}"
                var host_name = "{{ host_name }}"
                var host_id = "{{ host_id }}"
                    var url = "{% url 'aliyun:host_analysis_info' %}?host_id="+host_id+"&check_date_id="+check_date_id+"&version="+version+"&project_name"+project_name
                window.location.href = url 
            }

            $(document).ready(function() {
                $('#example').DataTable( {
                });

            });


//                $(".resolve_info").each(function(){
//                    $(this).html($(this).text().replace(/\n/g,'<br>'))
//                });
        </script>
	
        {% endblock %}	

